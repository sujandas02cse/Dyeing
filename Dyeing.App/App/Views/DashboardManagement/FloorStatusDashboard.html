<style>
    .form-check-input {
        position: relative !important;
    }

    label {
        /*font-size: 12px !important;*/
    }

    .form-control {
        /*font-size: 12px !important;*/
        padding: 5px 2px;
    }

    .md-datepicker-input {
        width: 120px;
    }

    .input-height {
        width: 230px !important;
    }

    input[type=checkbox] {
        transform: scale(1.5);
    }

    .machine_new table th,
    .machine_new table td {
        border: 1px solid #9f9f9f !important;
        padding: 5px 7px !important;
        font-size: 14px;
        text-align: center;
    }

    .control-label {
        /*text-align:left;*/
    }

    .select2-selection__choice {
        color: green !important;
        font-size: 12px;
    }

    .auto-complete-div-multi-wrapper auto-complete-div.default-style ul {
        background: whitesmoke;
        z-index: 1001;
    }

    .auto-complete-repeat {
        /* padding:2px !important;
        margin:2px !important;*/
        font-size: 12px !important;
    }

    .auto-complete-div-multi-wrapper {
        font-size: 15px;
    }

    .auto-complete-div-multi-wrapper {
        background-color: white !important;
    }

    .planAuto {
        border-style: solid;
        border-width: 1px;
        border-color: lightgrey;
        border-radius: 4px;
    }

    .plan {
        width: 230px;
        display: inline;
        font-size: 16px;
        font-weight: bold;
        color: green;
        /*float: right;*/
    }

    .btn-dropdown {
        width: 211px;
        border-color: none;
        font-size: 12px;
    }

    .dropdown-batch {
        border-width: 0.1px;
        border-style: solid;
        border-radius: 5px;
        border-color: gray;
        font-size: 12px;
    }
    /*.btn-sm {
        padding: 5px !important;
        width: 100px !important;
        font-size: 11px !important;
    }*/
    .btn:hover {
        color: inherit;
    }

    .table-scroll tbody {
        max-height: 1000px !important;
    }

    .button {
        border-radius: 4px;
        border: none;
        text-align: center;
        font-size: 14px;
        width: 85px;
        padding: 4px;
        transition: all 0.5s;
        cursor: pointer;
    }

    /*.custom_tbl {
        table-layout: fixed;
    }*/

    .custom_tbl th, .custom_tbl td {
        border: 1px solid #555 !important;
        vertical-align: middle !important;
        padding: 10px 0 !important;
    }

    .custom_tbl thead {
        position: sticky;
        top: 0;
        z-index: 6;
    }

    .dropdown-menu {
        z-index: 5;
    }

    .custom_tbl td {
        font-size: 12px;
    }

    .custom_tbl tbody tr:nth-child(2n+1) {
        background: #cae3e7;
    }

    .custom_tbl td.input {
        color: #333 !important;
        padding: 0 5px !important;
        position: relative;
    }

        .custom_tbl td.input input {
            display: block;
            /* border: 1px solid; */
            background: #fff;
            color: #333 !important;
            padding: 5px;
            border: none;
            width: 100%;
            height: 35px;
            border-radius: 3px;
        }

    .table-hover > tbody > tr:hover, .table-hover > tbody > tr:hover > td {
        background: #364865 !important;
    }

        .table-hover > tbody > tr:hover, .table-hover > tbody > tr:hover > td.input {
            /*background: #fff !important;*/
            color: #333 !important;
        }

    .custom_tbl tr:hover td {
        background: #364865 !important;
        cursor: default;
        color: white;
    }

    .md-datepicker-input-container {
        width: 100%;
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
        line-height: inherit;
    }

    .select2 .select2-container .select2-container--default .select2-container--below {
        width: 393px;
    }

    .btn-disabled {
        background-color: silver;
    }

    .Quantity-custom {
        width: 102px;
    }

    .width-custom {
        width: 10%;
    }

    .single-line {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }



    .radio-group {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 30px; /* Adjust the gap between radio buttons */
    }

    .radio-label {
        margin-left: 30px; /* Adjust the space between radio button and label text */
    }

    .radio-container {
        padding: 10px;
        background-color: #f9f9f9;
        border: 1px solid #ddd;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    }


    /* Remove appearance but keep them circular with proper dimensions */
    input[type=radio] {
        width: 1.4em !important; /* Adjust the width */
        height: 1.4em !important; /* Adjust the height */
        display: inline-block; /* Keep them inline */
        vertical-align: middle !important; /* Ensure alignment with labels */
        border-radius: 50%; /* Make the radio button circular */
        border: 2px solid #ccc; /* Add a border */
        background-color: white; /* Set background color */
        cursor: pointer;
        margin-right: 10px; /* Add space between the radio and label */
        appearance: none; /* Reset the default radio button appearance */
    }

        /* Add hover effect for radio buttons */
        input[type=radio]:hover {
            border-color: #888; /* Darker border on hover */
        }

        /* Styling the checked radio button */
        input[type=radio]:checked {
            background-color: #007bff; /* Fill color when selected */
            border-color: #007bff;
        }

    /* Ensure labels align correctly */
    .radio-label, .form-check-label {
        display: inline-block;
        margin-left: 10px; /* Space between radio and label */
        vertical-align: middle; /* Align label with radio button */
        white-space: nowrap; /* Prevent labels from breaking lines */
    }

    /* Use flexbox to ensure alignment of radio buttons and labels */
    .custom-radio {
        display: flex;
        align-items: center; /* Vertically center radio and label */
    }
</style>

<body ng-controller="FloorStatusDashboard as ctrl">

    <div class="content-header sty-one">
        <h1>Floor Status Dashboard</h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-angle-right"></i> Dashboard Management</a></li>
            <li><i class="fa fa-angle-right"></i> Floor Status Dashboard</li>
        </ol>
    </div>

    <div class="card card-body" style="min-height:auto;">

        <div class="form-group row" style="margin-top:20px;">
        </div>

        <div class="radio-container">
            <div class="form-group row justify-content-center">
                <div class="col-md-6">
                    <div class="radio-group">
                        <div class="custom-radio">
                            <input type="radio" id="bulkOption" class="form-check-input" name="batchType" ng-model="batchType" ng-value="'Bulk'" ng-init="batchType='Bulk'" ng-click="checkBulk()">
                            <label for="bulkOption" class="form-check-label radio-label">Bulk</label>
                        </div>

                        <div class="custom-radio">
                            <input type="radio" id="sampleOption" class="form-check-input" name="batchType" ng-model="batchType" ng-value="'Sample'" ng-click="checkSample()">
                            <label for="sampleOption" class="form-check-label radio-label">Sample</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <div class="row">
                    <label class="control-label col-md-3">
                        Unit:
                        <span class="required" style="color:red"> * </span>
                    </label>
                    <div class="col-md-9">
                        <select class="form-control" select2="" name="unit"
                                ng-change="changeData()"
                                ng-model="Unit"
                                ng-options="item as item.Name for item in UnitList">
                            <option value="" ng-required="true">Select Unit</option>
                        </select>
                    </div>
                    <!--<input type="text" ng-model="BatchNumber" class="form-control" placeholder="Batch Number">-->
                </div>
            </div>
            <div class="col-md-2">
                <div class="row">
                    <label class="control-label col-md-6">
                        From Date:
                    </label>
                    <div class="col-md-6 p-0">
                        <md-datepicker ng-model="FromDate" ng-change="changeData()" md-placeholder="From Date" md-hide-icons="calendar" md-open-on-focus></md-datepicker>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="row">
                    <label class="control-label col-md-6">
                        To Date:
                    </label>
                    <div class="col-md-6 p-0">
                        <md-datepicker ng-model="ToDate" ng-change="changeData()" md-placeholder="To Date" md-hide-icons="calendar" md-open-on-focus></md-datepicker>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="row">
                    <label class="control-label col-md-2">
                        Status:
                        <span class="required" style="color:red"> * </span>
                    </label>
                    <div class="col-md-5">
                        <select class="form-control" select2="" name="unit"
                                ng-model="SelectStatus"
                                ng-options="Status for Status in Statuses"
                                ng-change="LoadingStatusData()">
                            <option value="" ng-required="true">Select Status</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <input type="button" class="btn btn-lg"
                               ng-value="Processing==true?'Processing':'Show'"
                               ng-class="disabledShow==true?'btn-disabled':'btn-primary'"
                               ng-disabled="disabledShow" ng-click="LoadingData()" />
                    </div>
                    <div class="col-md-3">
                        <img ng-show="FloorStatusData.length>0?true:false" ng-click="ExportData(FloorStatusData)" style="height: 48px; margin-left:40%; cursor:pointer" alt="download floor status data" src="../../../../Content/img/exceldownload.png" />
                    </div>
                </div>

                <!--<select class="form-control clsHeight" ng-model="SelectStatus" ng-options="Status for Status in Statuses"></select>-->
            </div>
        </div>

    </div>


    <div class="card card-body" style="min-height:500px;">

        <div>
            <!--ng-show="RMode=='RP'"-->
            <div style=" background: #b0e0e6; padding: 10px;" }>
                <form class="form-inline" style="padding-bottom:2px">
                    <div class="col-sm-6" style="padding-left:0px;">
                        <input type="text" ng-model="search" class="form-control" placeholder="Search Here...">
                    </div>
                    <div class="col-sm-6">

            <!--<span>Count : {{$scope.FloorStatusData.length}}</span>-->
                        <span style="color:green; float:right;">Total Batch Weight: {{totalweight}} kg </span>
                        <span class="ml-3" style="color:green; float:right;">Total No. of Batches : {{TotalRecord}} &emsp; &emsp; </span>

                    </div>
                </form>
                <div style="width:100%; overflow:auto; max-height:600px;">
                    <table class="table table-bordered bordered table-text table-hover custom_tbl" id="MyInquires">
                        <thead class="bg">
                            <tr>
                                <th rowspan="3" style="width: 40px; display: none">UnitNO</th>
                                <th rowspan="3" style="width: 40px;">Sl&nbsp;</th>
                                <th rowspan="3" style="width:86px;">BatchNo&nbsp;</th>
                                <th rowspan="3" ng-click="sort('McNo')" style="width:52px;">Buyer&nbsp;</th>
                                <th rowspan="3" ng-click="sort('Job')" style="width: 102px;">Job&nbsp;</th>
                                <th rowspan="3" ng-click="sort('Style')" style="width: 115px;">Style/Order &nbsp;</th>
                                <th rowspan="3" ng-click="sort('Color')" style="width: 70px;">Color &nbsp;</th>
                                <th rowspan="3" ng-click="sort('LDNo')" style="width: 100px;">Fabric Type&nbsp;</th>
                                <th rowspan="3" ng-click="sort('RN')" style="width: 100px;">Composition&nbsp;</th>
                                <th rowspan="3" ng-click="sort('YarnLot')" style="width: 80px;">R. Dia&nbsp;</th>
                                <th rowspan="3" ng-click="sort('DeliveryDate')" style="width: 100px;">R. GSM&nbsp;</th>
                                <th colspan="3" ng-click="sort('MatchingWith')" style="width:121px">QTY&nbsp;</th>
                                <th colspan="8" ng-click="sort('MatchingWith')" style="width:130px">Approval Information&nbsp;</th>
                                <th colspan="2" ng-click="sort('MatchingWith')">Load & Unload&nbsp;</th>
                                <th rowspan="3" ng-click="sort('MatchingWith')">Status&nbsp;</th>
                                <th rowspan="3" ng-click="sort('MatchingWith')">Special Finish&nbsp;</th>
                                <th colspan="3" ng-click="sort('MatchingWith')">Sub-Factory&nbsp;</th>
                                <th ng-if="currlength.length>5" style=""></th>
                            </tr>
                            <tr>


                                <!--<th rowspan="2" class="text-center Quantity-custom" colspan="1" ng-click="sort('')" style="width: 80px;">Body&nbsp;</th>
                                <th rowspan="2" class="text-center " colspan="1" ng-click="sort('')" style="width: 70px;">Neck&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')" style="width: 60px;">BNT&nbsp;</th>-->
                                <!-- For Bulk -->
                                <th rowspan="2" ng-if="batchType == 'Bulk'" class="text-center Quantity-custom" colspan="1" style="width: 80px;">Body&nbsp;</th>
                                <th rowspan="2" ng-if="batchType == 'Bulk'" class="text-center" colspan="1" style="width: 70px;">Neck&nbsp;</th>
                                <th rowspan="2" ng-if="batchType == 'Bulk'" class="text-center" colspan="1" style="width: 60px;">BNT&nbsp;</th>
                                <!-- For Sample -->
                                <th rowspan="2" ng-if="batchType == 'Sample'" class="text-center Quantity-custom" colspan="1" style="width: 80px;">Fab1&nbsp;</th>
                                <th rowspan="2" ng-if="batchType == 'Sample'" class="text-center" colspan="1" style="width: 70px;">Fab2&nbsp;</th>
                                <th rowspan="2" ng-if="batchType == 'Sample'" class="text-center" colspan="1" style="width: 60px;">Fab3&nbsp;</th>


                                <th colspan="2" class="text-center " ng-click="sort('Body')">Check <br /> Roll&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Fabric <br /> Test&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Quality <br /> Approval&nbsp;</th>
                                <th colspan="3" class="text-center " ng-click="sort('Body')">Shade <br /> Approval&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">RFD&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Start&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">End&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Name&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Send <br /> Time&nbsp;</th>
                                <th rowspan="2" class="text-center " ng-click="sort('Body')">Recieve <br /> Time&nbsp;</th>
                            </tr>
                            <tr>
                                <th class="text-center Quantity-custom" colspan="1" ng-click="sort('')" style="width: 80px;">Status&nbsp;</th>
                                <th class="text-center " colspan="1" ng-click="sort('')" style="width: 70px;">Result&nbsp;</th>

                                <!-- For Bulk -->
                                <th class="text-center " ng-if="batchType == 'Bulk'" ng-click="sort('Body')" style="width: 60px;">Body&nbsp;</th>
                                <th class="text-center " ng-if="batchType == 'Bulk'" ng-click="sort('Body')" style="width: 60px;">Neck&nbsp;</th>
                                <th class="text-center " ng-if="batchType == 'Bulk'" ng-click="sort('Body')" style="width: 60px;">BNT&nbsp;</th>

                                <!-- For Sample -->
                                <th class="text-center " ng-if="batchType == 'Sample'" ng-click="sort('Body')" style="width: 60px;">Fab1&nbsp;</th>
                                <th class="text-center " ng-if="batchType == 'Sample'" ng-click="sort('Body')" style="width: 60px;">Fab2&nbsp;</th>
                                <th class="text-center " ng-if="batchType == 'Sample'" ng-click="sort('Body')" style="width: 60px;">Fab3&nbsp;</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="dataModel in (FloorStatusData | filter : search |orderBy:sortKey:reverse | filter : {UnitId : Unit.UnitId} | filter : customFilter ) ">
                                <td style="display: none;">{{dataModel.UnitId}}</td>
                                <td>{{$index +1}}</td>

                                <td ng-if="batchType == 'Bulk'"> <a href="/DashboardManagement/BatchCardReportN?BpmId={{dataModel.BpmId}}&&Format=PDF#view=FitH" target="_blank" alt="">{{dataModel.BatchNo}}</a></td>

                                <td ng-if="batchType == 'Sample'">
                                    <a href="/DashboardManagement/SampleBatchCardReport?BpmId={{dataModel.BpmId}}&&Format=PDF&&ReportType=N#view=FitH" target="_blank" alt="">{{dataModel.BatchNo}}</a>
                                </td>


                                <td> {{dataModel.BuyerName}}</td>
                                <td> {{dataModel.JobInfo}}</td>
                                <td> {{dataModel.StyleInfo}}</td>
                                <td> {{dataModel.Color}}</td>
                                <td> {{dataModel.FabricType}}</td>
                                <td> {{dataModel.Composition}}</td>
                                <td> {{dataModel.FDia}}</td>
                                <td> {{dataModel.FGSM}}</td>


                                <td colspan="1"> {{dataModel.BodyQty || dataModel.Fab1}}</td>
                                <td colspan="1"> {{dataModel.NeckQty || dataModel.Fab2}}</td>
                                <td colspan="1"> {{dataModel.BNTQty  || dataModel.Fab3}}</td>

                                <td colspan="1"> {{dataModel.CksSend}}</td>   <!--Status-->
                                <td colspan="1">{{dataModel.Result}} </td>
                                <td colspan="1">{{dataModel.FabricTestApproved}} </td>
                                <td colspan="1">{{dataModel.QualityTestApproved}} </td>
                                <td colspan="1">{{dataModel.ShadeStatusBody}} </td>
                                <td colspan="1">{{dataModel.ShadeStatusNeck}} </td>
                                <td colspan="1">{{dataModel.ShadeStatusBNT}} </td>
                                <td colspan="1">{{dataModel.RFDApproved}}</td>
                                <td class="single-line" colspan="1">{{dataModel.StartingTime | date:'dd-MM-yy h:mm a':'en-US'}} </td>
                                <td class="single-line" colspan="1">{{dataModel.EndingTime | date:'dd-MM-yy h:mm a':'en-US'}} </td>
                                <td>{{dataModel.BaseStatus}} </td>
                                <td> </td>
                                <td colspan="1">{{dataModel.Name}} </td>
                                <td colspan="1">{{dataModel.SendTime}} </td>
                                <td colspan="1">{{dataModel.ReceiveTime}} </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
